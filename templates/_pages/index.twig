{% extends "_base/page" %}

{% if not craft.app.request.isLivePreview %}
    {% do eagerLoadElements(page, [
        'heroArea',
    ]) %}
{% endif %}

{% set data = {
    'hero': page.heroArea[0],
    'sections': page.contentMatrix,
} %}

{% block content %}
    {% cache using key page.slug ~ "-" ~ imageFormat %}
        <article style="display:block;width:100%;">
            {% include "_heros/" ~ data.hero.type|kebab %}
            {% for section in data.sections %}
                {% include "_blocks/" ~ section.type|kebab %}
            {% endfor %}
        </article>
    {% endcache %}
{% endblock %}
